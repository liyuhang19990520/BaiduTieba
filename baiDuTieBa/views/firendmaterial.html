<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./public/css/firendmaterial.css">
</head>

<body>
    <div class="box">
        <!-- <header> -->

        <!-- <svg t="1603264246688" class="iconcome" viewBox="0 0 1024 1024" version="1.1"
                xmlns="http://www.w3.org/2000/svg" p-id="15617" width="40" height="40">
                <path
                    d="M363.840919 472.978737C336.938714 497.358861 337.301807 537.486138 364.730379 561.486138L673.951902 832.05497C682.818816 839.813519 696.296418 838.915012 704.05497 830.048098 711.813519 821.181184 710.915012 807.703582 702.048098 799.94503L392.826577 529.376198C384.59578 522.174253 384.502227 511.835287 392.492414 504.59418L702.325747 223.807723C711.056111 215.895829 711.719614 202.404616 703.807723 193.674252 695.895829 184.943889 682.404617 184.280386 673.674253 192.192278L363.840919 472.978737Z"
                    p-id="15618"></path>
            </svg>
            <p class="usernick">暗炎之王</p>
            <div class="messandomit">
                <svg t="1603264488224" class="iconmessage" viewBox="0 0 1024 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="16356" width="16" height="16">
                    <path
                        d="M511.255 23.97c-269.079 0-487.982 187.626-487.982 418.258 0 126.93 68.654 246.226 188.323 327.54a34.863 34.863 0 0 0 39.098-57.716C150.48 644.002 92.95 545.652 92.95 442.228c0-192.186 187.625-348.532 418.304-348.532 230.633 0 418.258 156.393 418.258 348.532 0 192.233-187.578 348.626-418.258 348.626-2.187 0-4.003 0.791-6.05 1.21a34.444 34.444 0 0 0-39.006 21.97c-6.702 18.943-50.502 50.827-102.54 80.383 18.991-63.394 9.915-76.986 3.817-86.016a39.238 39.238 0 0 0-32.581-17.361 34.863 34.863 0 0 0-30.255 52.224c-3.49 19.828-18.758 66.28-35.98 108.777a34.91 34.91 0 0 0 46.453 45.01c39.75-17.688 160.814-75.311 204.334-136.844 265.31-3.864 479.79-189.673 479.79-417.979 0-230.632-218.902-418.257-487.982-418.257z"
                        p-id="16357"></path>
                    <path
                        d="M369.385 407.412a34.91 34.91 0 0 1 0-69.725h278.807a34.863 34.863 0 1 1 0 69.725H369.385z m0 139.404a34.91 34.91 0 0 1 0-69.725h212.712a34.863 34.863 0 1 1 0 69.725H369.385z"
                        p-id="16358"></path>
                </svg>
                <svg t="1603264562822" class="iconomit" viewBox="0 0 1024 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="17248" width="16" height="16">
                    <path
                        d="M931.2870400000002 513.3465600000001z m92.71296 1.4210854715202004e-14a92.70784 92.70784 0 1 0-185.42592-2.842170943040401e-14 92.71296 92.71296 0 0 0 185.42592 2.842170943040401e-14M512 512z m92.71296 1.4210854715202004e-14a92.71808 92.71808 0 1 0-185.43104-1.4210854715202004e-14 92.71808 92.71808 0 0 0 185.43104 1.4210854715202004e-14M92.71296000000001 510.65344z m92.71296 1.4210854715202004e-14c1.0658141036401503e-14-51.20512-41.50783999999999-92.71296-92.71295999999998-92.71296000000002C41.50783999999999 417.94047999999987 0 459.44831999999985 0 510.65344000000005S41.50783999999999 603.3715199999999 92.71296000000001 603.3715199999999c51.20512 1.0658141036401503e-14 92.71296000000001-41.51295999999998 92.71296000000001-92.71807999999997"
                        p-id="17249"></path>
                </svg>
            </div> -->




        <!-- </header> -->

        <div class="topBox">
            <img src="./public/img/返回.png" alt="" class="previous">
            <div class="userNameTitle">两头猪：家猪和野猪</div>
            <img src="./public/img/更多 (1).png" alt="" class="search">
        </div>



        <div class="bgcimg"></div>
        <div class="overflow">
            <div class="contentbox">
                <div class="headimgbox">
                    <div class="headimg">
                        <img width="100%" height="100%"
                            src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1603279132671&di=dfa98eab6c9a01bc466fe5b71a317403&imgtype=0&src=http%3A%2F%2Fcdn.duitang.com%2Fuploads%2Fitem%2F201307%2F09%2F20130709131859_ffKCE.jpeg"
                            alt="">
                    </div>
                    <div class="attentionkeybox">
                        <div class="attentionkey">
                            <p><span class="font">关注</span>|<svg t="1603270966753" class="iconarrows"
                                    viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                                    p-id="27029" width="16" height="16">
                                    <path
                                        d="M185.3582197 270.32912276L844.05942297 270.32912276c36.45419773 0 65.93601232 29.25397586 65.93601233 65.70687905 0 16.9493896-6.50376027 32.27542818-16.94809505 43.88614196l-325.7485489 434.64769737c-21.82462072 28.79053117-62.92362177 34.82955219-91.9432862 13.00234241-5.10954256-3.71661938-9.52132898-8.13099488-13.00363694-13.00363694l-329.47293551-439.28602802c-21.58772022-28.7918257-15.78430515-70.1121928 13.23665383-91.71026931 11.84502518-9.05658975 25.5412401-13.23665383 39.23745502-13.23665381z"
                                        fill="#2c2c2c" p-id="27030"></path>
                                </svg></p>
                        </div>
                        <div class="gift">
                            <svg t="1603270349336" class="icongift" viewBox="0 0 1140 1024" version="1.1"
                                xmlns="http://www.w3.org/2000/svg" p-id="18678" width="32" height="32">
                                <path
                                    d="M1139.111563 356.190489c0-49.136101-40.301645-89.083088-90.077521-89.083088l-70.002498 0c29.272482-28.197382 47.499112-67.579698 47.499112-111.298575C1026.532047 69.785531 955.964879 0 868.94576 0c-88.587958 0-146.340158 86.948187-181.15921 168.978452-18.656392-8.116796-41.513044-13.169627-66.508771-13.169627-24.926185 0-47.781447 4.981899-66.510161 13.169627C519.943003 86.948187 462.190803 0 373.608409 0c-73.772997 0-135.228937 50.34611-152.38603 117.99674 14.310095 2.91793 28.837157 6.763533 43.577014 11.463097 11.891468-48.852375 56.186142-85.38352 109.167847-85.38352 64.798068 0 113.080209 76.554627 143.840863 152.251121-4.912358 6.834465-7.47563 14.169623-8.329591 21.933152 2.418627-0.429762 4.699564-0.858133 6.693992-1.499299-2.923493 0.929064-4.845599 2.140464-7.051432 3.417232-0.070932 0.858133-0.429762 1.57023-0.429762 2.493731 0 14.315658 8.193291 27.343422 21.291986 38.170916-0.212795 0.070932-0.283726 0.211404-0.49513 0.282335-29.266919 9.116792-86.023295 7.834461-189.986712-48.994238C108.214492 85.594924 6.169009 207.2203 5.025759 208.502632c-7.834461 9.5396-6.333771 23.567359 3.27676 31.261347 9.616095 7.692597 23.784326 6.333771 31.689719-3.27676 0.85257-1.069537 78.971863-94.140091 277.646996 14.527062 71.49067 39.16674 132.235903 58.746632 181.230141 58.746632 9.89843 0 19.226626-1.136296 28.12506-2.635594 0.712097 1.499299 1.712093 3.063965 2.4228 4.48816l69.35716 0 0 178.095244L148.442423 489.708723l0-133.589166c0-24.638287 20.151518-44.506078 45.077703-44.506078l149.4681 0c-15.239159-7.052823-30.831586-14.668925-46.928878-23.497818-15.022192-8.1919-29.620186-15.097296-43.864913-21.079191l-58.67431 0c-49.775876 0-90.083084 39.948378-90.083084 89.083088l0 178.095244 67.579698 0 0 400.696567c0 49.211205 40.305817 89.088651 90.081693 89.088651l337.746892 0 45.005381 0 337.745501 0c49.775876 0 90.083084-39.877446 90.083084-89.088651L1071.679291 534.431769l67.791102 0L1139.111563 356.190489 1139.111563 356.190489zM598.845325 979.492551 261.098434 979.492551c-24.855254 0-45.005381-19.867791-45.005381-44.506078L216.093053 534.282952l382.752273 0L598.845325 979.492551 598.845325 979.492551zM733.858686 222.672254c0-9.399127-3.275369-18.298952-9.111229-26.344817 30.760654-75.696494 78.971863-152.251121 143.840863-152.251121 62.097106 0 112.585079 49.923302 112.585079 111.304138 0 61.309904-50.487973 111.297184-112.585079 111.297184L705.302474 266.677639C722.894892 254.932207 733.858686 239.551184 733.858686 222.672254L733.858686 222.672254zM621.27778 244.891914c-9.04586 0-17.732891-0.641166-25.707823-1.710702-2.134901-3.846994-5.052831-7.264226-9.328196-9.328196-7.045869-3.488164-14.809398-2.493731-21.151514 1.140468-7.1168-3.564659-11.322624-7.763529-11.322624-12.32123 0-12.315666 30.266915-22.285028 67.510157-22.285028 37.312783 0 67.579698 10.040293 67.579698 22.285028C688.857478 234.922552 658.590563 244.891914 621.27778 244.891914L621.27778 244.891914zM1026.532047 934.986473c0 24.638287-20.150127 44.506078-45.005381 44.506078L643.781166 979.492551 643.781166 534.282952l382.750882 0L1026.532047 934.986473 1026.532047 934.986473zM1094.182677 489.778264 643.852097 489.778264l0-178.093854 225.165985 0L1049.106365 311.684411c24.920622 0 45.076312 19.867791 45.076312 44.506078L1094.182677 489.778264 1094.182677 489.778264zM1094.182677 489.778264"
                                    p-id="18679" fill="#ffffff"></path>
                            </svg>
                        </div>
                    </div>
                </div>
                <div class="attentionnum">
                    <div>
                        <svg t="1603260540901" class="icon" viewBox="0 0 1024 1024" version="1.1"
                            xmlns="http://www.w3.org/2000/svg" p-id="3649" width="48" height="48">
                            <path
                                d="M384.4 510c-73.5-21.5-127.1-89.5-127.1-169.9 0-97.7 79.3-177.1 177-177.1 97.8 0 177.1 79.3 177.1 177.1 0 80.7-54 148.8-127.8 170.1C647.8 533.9 701 672.8 701 744.6c0 41.8-11.5 99.8-267.1 99.8-255.6 0-266.5-60.8-266.5-99.8-0.1-72.2 52.7-211.4 217-234.6z m307.8 1.8C843.5 461 815 242 645.4 242.2c42.2 95.7 22 183.9-39 253.1 131.5 75.5 149.1 201.4 149.1 270.8 101-13 106.6-46.5 106.6-72.2 0-55.5-41.7-163.3-169.9-182.1z"
                                p-id="3650" fill="#ffffff"></path>
                        </svg>
                        <p>
                        <p class="fansNum">0</p>粉丝</p>
                    </div>
                    <div>
                        <svg t="1603261153946" class="iconattention" viewBox="0 0 1024 1024" version="1.1"
                            xmlns="http://www.w3.org/2000/svg" p-id="7817" width="48" height="48">
                            <path
                                d="M618.4 301.6c-17.6 0-36 3.2-53.6 10.4-16 7.2-32 17.6-44.8 30.4l-7.2 7.2-7.2-7.2c-12.8-12.8-26.4-23.2-44.8-30.4-17.6-7.2-36-10.4-53.6-10.4s-36 3.2-53.6 10.4c-16 7.2-32 17.6-44.8 30.4-24.8 24.8-40.8 62.4-40.8 98.4 0 33.6 14.4 68 40.8 96.8 20 20 168 166.4 178.4 175.2 3.2 3.2 12.8 10.4 24.8 10.4s20-7.2 23.2-10.4c10.4-8.8 159.2-155.2 178.4-175.2 12.8-12.8 23.2-26.4 30.4-44.8 7.2-17.6 10.4-36 10.4-53.6s-3.2-36-10.4-53.6c-7.2-16-17.6-32-30.4-44.8s-26.4-23.2-44.8-30.4c-15.2-4-32.8-8.8-50.4-8.8M1024 512c0 282.4-229.6 512-512 512S0 794.4 0 512 229.6 0 512 0s512 229.6 512 512z"
                                p-id="7818" fill="#ffffff"></path>
                        </svg>
                        <p>
                        <p class="attNum">&nbsp;1</p>关注</p>
                    </div>

                </div>
                <div class="content">
                    <p class="invitation">帖子</p>
                    <div class="list">

                    </div>
                </div>
            </div>
        </div>
    </div>


    <script src="./public/js/datechange.js"></script>
    <script src="./public/js/jquery.js"></script>
    <script src="./public/js/资料页面.js"></script>
    <script>
        $(".attentionkey").click(() => {
            $(".attentionkey p span").html("已关注")
        })


        window.WebSocket = function () {

        }

        $(".previous").click(() => {
            window.history.back(-1)
        })

        //资料
        $.ajax({
            url: "http://localhost:3000/firend",
            method: "get",
            data: location.search.substr(1),
            success: (data) => {
                $(".userNameTitle").html(data[0].nickname)
                $(".headimg img").attr("src", data[0].headImg)
                $(".attNum").html(`&nbsp;${data[0].followee.length}`)
                $(".fansNum").html(data[0].fans.length)
                console.log(data)
                for (let i = 1; i < data.length; i++) {
                    $(".list").append(`
                    <div class="posts">
                            <div class="headBox">
                                <div class="headImgBox">
                                    <img class="headImg"
                                        src="${data[0].headImg}"
                                        alt="">
                                </div>
                                <div class="userBox">
                                    <div class="userName">${data[0].nickname}</div>
                                    <div class="time">
                                        <div>${dateFormat(new Date(data[i].pubTime))}</div>
                                    </div>
                                </div>
                            </div>
                            <h4>${data[i].headline}</h4>
                            <p class="postContent">
                                ${data[i].content}
                            </p>
                            <div class="img-box">
                                
                            </div>
                        </div>
                    `)
                    if (data[i].image.length > 0) {
                        $($(".posts")[i - 1]).find(".img-box").append(`
                                <div>
                                    <img src="${data[i].image[0]}"
                                        alt="">
                                </div>
                    `)
                    }
                }
            }
        })

        //点击取关加关注
        $(".attentionkey").click(() => {
            $.ajax({
                url: "http://localhost:3000/addAtt",
                method: "post",
                data: location.search.substr(1),
                success: (data) => {
                    if (data == 1) {
                        $(".font").html("取消关注")
                        $(".fansNum").html($(".fansNum").html()-0+1);
                    } else {
                        $(".font").html("关注")
                        $(".fansNum").html($(".fansNum").html()-0-1);
                    }
                }
            })
        })

        //是否关注
        $.ajax({
            url: "http://localhost:3000/newAddAtt",
            method: "post",
            data: location.search.substr(1),
            success: (data) => {
                console.log(data)
                if (data == 1) {
                    $(".font").html("关注")
                } else if (data == 0) {
                    $(".font").html("取消关注")
                } else if (data == 2) {
                    $(".attentionkey").remove();
                }
            }
        })

    </script>
</body>

</html>